{% if site.layout == 'stacked' %}
  {% assign metadata_styles = 'd-md-inline-block mx-3 mb-1 mb-md-0' %}
{% else %}
  {% assign metadata_styles = 'd-flex flex-items-center mb-3' %}
{% endif %}

<img src="{{ user.avatar_url }}" class="circle mb-3" style="max-width: 150px;">
<h1 class="{% if site.style == 'dark' %}text-white{% endif %} mb-2 lh-condensed">{% if user.name %}{{ user.name }}{% else %}{{ user.login }}{% endif %}</h1>
<p class="mb-3 f4 {% if site.style == 'dark' %}text-white{% else %}text-gray{% endif %}">
  {{ user.bio }}
</p>

{% if include.metadata %}
  <div class="f4 mb-6">
    {% if user.name %}
      <div class="{{ metadata_styles }}">
        {% octicon mark-github height:20 class:"mr-2 v-align-middle" fill:{{ icon_color }} aria-label:GitHub %}
        <a href="https://github.com/{{ user.login }}" {% if site.style == 'dark' %}class="text-white"{% endif %}>
          @{{ user.login }}
        </a>
      </div>
    {% endif %}
    {% if user.email %}
      <div class="{{ metadata_styles }}">
        {% octicon mail height:20 class:"mr-2 v-align-middle" fill:{{ icon_color }} aria-label:email %}
        <a href="mailto:{{ user.email }}" {% if site.style == 'dark' %}class="text-white"{% endif %}>
          {{ user.email }}
        </a>
      </div>
    {% endif %}
    
    <div class="{{ metadata_styles }} {% if site.style == 'dark' %}text-white{% endif %}">
      <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="18" height="18" viewBox="0 0 128 128"><path d="M122.25,33.753H102.33l-2.163-10.587A19.819,19.819,0,0,0,80.816,7.37H47.184a19.819,19.819,0,0,0-19.351,15.8L25.67,33.753H5.75A5.757,5.757,0,0,0,0,39.5V114.88a5.756,5.756,0,0,0,5.75,5.75h116.5a5.756,5.756,0,0,0,5.75-5.75V39.5A5.757,5.757,0,0,0,122.25,33.753ZM31.263,23.867a16.306,16.306,0,0,1,15.921-13H80.816a16.306,16.306,0,0,1,15.921,13l2.021,9.887H94.165l-1.836-8.986a11.791,11.791,0,0,0-11.513-9.4H47.184a11.791,11.791,0,0,0-11.513,9.4l-1.836,8.986H29.242Zm59.329,9.886H37.408L39.1,25.468a8.278,8.278,0,0,1,8.083-6.6H80.816a8.278,8.278,0,0,1,8.083,6.6ZM3.5,39.5a2.253,2.253,0,0,1,2.25-2.25h116.5a2.253,2.253,0,0,1,2.25,2.25V58.8a16.269,16.269,0,0,1-16.25,16.25H19.75A16.269,16.269,0,0,1,3.5,58.8ZM88.812,78.55h9.25v10.2A1.251,1.251,0,0,1,96.812,90h-6.75a1.252,1.252,0,0,1-1.25-1.25Zm-58.875,0h9.25v10.2A1.251,1.251,0,0,1,37.937,90h-6.75a1.252,1.252,0,0,1-1.25-1.25ZM124.5,114.88a2.253,2.253,0,0,1-2.25,2.25H5.75a2.253,2.253,0,0,1-2.25-2.25V70A19.735,19.735,0,0,0,19.75,78.55h6.687v10.2a4.756,4.756,0,0,0,4.75,4.75h6.75a4.755,4.755,0,0,0,4.75-4.75V78.55H85.312v10.2a4.756,4.756,0,0,0,4.75,4.75h6.75a4.755,4.755,0,0,0,4.75-4.75V78.55h6.688A19.735,19.735,0,0,0,124.5,70Z"/></svg>
      <a href="portfolio" style="text-decoration: inherit; color:#0000EE;">
          <span style="color: #0266D6;">&nbsp;&nbsp;my portfolio</span>
      </a>
    </div>
    
    {% if user.location %}
      <div class="{{ metadata_styles }} {% if site.style == 'dark' %}text-white{% endif %}">
        {% octicon location height:20 class:"mr-2 v-align-middle" fill:{{ icon_color }} aria-label:Location %}
        {{ user.location }}
      </div>
    {% endif %}
    
    {% if site.social_media %}
      <div class="d-flex flex-wrap flex-items-start {% if site.layout == 'stacked' %}flex-justify-center mt-1 mt-md-3{% endif %}">
        {% for account in site.social_media %}
          <div class="{% unless forloop.last == true %}mr-3{% endunless %} mb-3">
            {% assign service_shortname = account[0] %}
            {% assign service = site.data.social_media[service_shortname] %}
            <a href="{{ service.profile_url_prefix }}{{ account[1] }}" class="tooltipped tooltipped-se" aria-label="{{ service.name }}: {{ account[1] }}">
              {{ service.icon_svg }}<span class="d-none">{{ service.name }}</span>
            </a>
          </div>
        {% endfor %}
      </div>
    {% endif %}
    {% if user.hireable %}
      <span title="Hire me" class="d-inline-block f5 rounded-2 text-white bg-green py-1 px-2">Available for hire</span>
    {% endif %}
  </div>
{% endif %}
